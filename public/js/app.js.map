{"version":3,"sources":["app.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["$(document).ready(function() {\n\n\n    function setClearOnFocus() {\n        $('input').focus(function() {\n            console.log('got focus');\n            $(this).val('');\n        });\n    }\n\n    var vueData = {};\n\n    var newVue = function(vueData) {\n        new Vue({\n            el: '#workspace',\n            data: vueData,\n            methods: {\n                copyHtml: function() {\n\n                    this.cloneRenderedVersion();\n                    \n                    var range = document.createRange();\n                    var selection = document.querySelector('#clone');\n                    range.selectNode(selection)\n                    window.getSelection().addRange(range);\n                    var successful = document.execCommand('copy');\n                    var msg = successful ? 'successful' : 'not successful';\n                    console.log(msg);\n                    if (successful) {\n                        $('#highlight').effect('highlight', 'slow');\n                    }\n                },\n\n                cloneRenderedVersion: function() {\n\n                    var htmlVersion = document.getElementById('highlight');\n                    $('#clone').text(htmlVersion.innerHTML);\n                }\n            },\n            ready: function() {\n                console.log('ready');\n            },\n            attached: function() {\n                console.log('attached');\n            }\n        });\n    };\n\n    function getForm(form, selected) {\n        return $.ajax('form', {\n            data: form, \n            async: false,\n            success: function(data) {\n                $('#form').html(data);\n                console.log('got form');\n            }\n        })\n    };\n\n    function getRendered(selected) {\n        return $.ajax('render/' + selected, {\n            async: false,\n            success: function(data) {\n                $('#highlight').html(data);\n                console.log('got rendered');\n            }\n        });\n    };\n\n    $('select#articleType').change(function(e) {\n\n        var selected = $(this).val();\n\n        // clear the cloned section\n        $('#workspace').fadeToggle(300, function() {\n            $('#clone').text('');\n            $('#highlight').html('');\n            $('#form').html('');\n\n            vueData = {};\n\n            switch (selected) {\n                case 'top-story':\n                    vueData = {\n                        kicker: 'lorem kicker',\n                        headline: 'Lorem headline',\n                        excerpt: 'Lorem excerpt',\n                        link: '',\n                        imageUrl: 'http://placehold.it/480x320',\n                    };\n                    break;\n                 case 'feature':\n                    vueData = {\n                        kicker: 'lorem kicker',\n                        headline: 'Lorem headline',\n                        excerpt: 'Lorem excerpt',\n                        link: '',\n                        imageUrl: 'http://placehold.it/320x213',\n                    };\n                    break;\n                 case 'brief':\n                    vueData = {\n                        kicker: 'lorem kicker',\n                        headline: 'Lorem headline',\n                        excerpt: 'Lorem excerpt',\n                        link: '',\n                        imageUrl: 'http://placehold.it/134x89',\n                    };\n                    break;\n                 case 'quote' :\n                    vueData = {\n                        quote: 'Lorem quote',\n                        quoter: 'Lorem quoter',\n                        link: ''\n                    };\n                    break;\n                 case 'date' :\n                    vueData = {\n                        date: 'Lorem'\n                    };\n                    break;\n                 case 'section-title' :\n                    vueData = {\n                        section_title: 'More stories'\n                    };\n                    break;\n            }\n\n            var form = $('form#selectArticleType').serialize();\n    \n            var request = getForm(form, selected),\n                chained = getRendered(selected);\n\n            chained.done(function() {\n                newVue(vueData);\n                // leave \"More stories\" in the input\n                if ($('input').val() != 'More stories') {\n                    $('input').val('');\n                }\n                $('#workspace').delay(300).fadeToggle(150);\n            });\n\n        });\n    });\n\n});\n"],"sourceRoot":"/source/"}